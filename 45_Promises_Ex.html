<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>Promises Example=</h1>
    <button id="special">Click here</button>
    <div id="dv"></div>

    <script>
        var btn = document.getElementById("special")
        var dataele = document.getElementById("dv")

        btn.onclick = function () {
            var p = new Promise(function (resolve, reject) {
                var xhr = new XMLHttpRequest()
                xhr.open("GET", "demo.json", "true")
                xhr.send()
                xhr.onload = function () {
                    if (xhr.status == 200) {
                        resolve(xhr.responseText)
                    }
                    else
                        reject("promises is not done")
                }
            })
            p.then(function (data1) {
                console.log(data1)
            })

            p.catch(function (data1) {
                console.log(data1)
            })




        }
    </script>

</body>

</html>